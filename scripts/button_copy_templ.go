// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package scripts

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

// ButtonCopy provides the JavaScript needed for the ButtonCopy component.
// Include this in your <head> section when using the ButtonCopy component.
func ButtonCopy() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<script>\n\t\t(function() {\n\t\t\tconst QUERY_SELECTORS = {\n\t\t\t\tbuttonCopy: '[data-button-copy]',\n\t\t\t\tbuttonCopyValue: '[data-copy-value]',\n\t\t\t\tbuttonCopyText: '[data-copy-text]',\n\t\t\t\ticonDuplicate: '[data-copy-icon-duplicate]',\n\t\t\t\ticonSuccess: '[data-copy-icon-success]'\n\t\t\t}\n\n\t\t\tfunction initButtonCopy() {\n\t\t\t\tconst containers = document.querySelectorAll(QUERY_SELECTORS.buttonCopy)\n\n\t\t\t\tcontainers.forEach((container) => {\n\t\t\t\t\tconst input = container.querySelector(QUERY_SELECTORS.buttonCopyValue)\n\t\t\t\t\tif (!input) return\n\n\t\t\t\t\tupdateButtonCopyText(input)\n\n\t\t\t\t\tinput.addEventListener('input', () => {\n\t\t\t\t\t\tupdateButtonCopyText(input)\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tfunction copyButtonValue(button) {\n\t\t\t\tconst container = button.closest(QUERY_SELECTORS.buttonCopy)\n\t\t\t\tif (!container) return\n\n\t\t\t\tconst input = container.querySelector(QUERY_SELECTORS.buttonCopyValue)\n\t\t\t\tif (!input) return\n\n\t\t\t\tconst value = input.value || input.getAttribute('value') || ''\n\t\t\t\tif (!value) return\n\n\t\t\t\tnavigator.clipboard\n\t\t\t\t\t.writeText(value)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t// Switch to success icon\n\t\t\t\t\t\tconst duplicateIcon = container.querySelector(QUERY_SELECTORS.iconDuplicate)\n\t\t\t\t\t\tconst successIcon = container.querySelector(QUERY_SELECTORS.iconSuccess)\n\n\t\t\t\t\t\tif (duplicateIcon && successIcon) {\n\t\t\t\t\t\t\t// Hide duplicate icon and show success icon\n\t\t\t\t\t\t\tduplicateIcon.classList.add('hidden')\n\t\t\t\t\t\t\tsuccessIcon.classList.remove('hidden')\n\n\t\t\t\t\t\t\t// Restore original icon after 2 seconds\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tduplicateIcon.classList.remove('hidden')\n\t\t\t\t\t\t\t\tsuccessIcon.classList.add('hidden')\n\t\t\t\t\t\t\t}, 2000)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.error('Failed to copy text: ', err)\n\t\t\t\t\t})\n\t\t\t}\n\n\t\t\tfunction updateButtonCopyText(input) {\n\t\t\t\tconst container = input.closest(QUERY_SELECTORS.buttonCopy)\n\t\t\t\tif (!container) return\n\n\t\t\t\tconst textButton = container.querySelector(QUERY_SELECTORS.buttonCopyText)\n\t\t\t\tif (!textButton) return\n\n\t\t\t\tconst value = input.value || input.getAttribute('value') || ''\n\t\t\t\tconst prefixLength = parseInt(input.dataset.prefixLength) || 0\n\t\t\t\tconst suffixLength = parseInt(input.dataset.suffixLength) || 0\n\n\t\t\t\ttextButton.textContent = formatButtonCopyText(value, prefixLength, suffixLength)\n\t\t\t}\n\n\t\t\tfunction formatButtonCopyText(text, prefixLength, suffixLength) {\n\t\t\t\tif (!text) return ''\n\n\t\t\t\tif (!prefixLength && !suffixLength) return text\n\n\t\t\t\tif (text.length <= prefixLength + suffixLength) return text\n\n\t\t\t\tlet result = ''\n\n\t\t\t\tif (prefixLength > 0) {\n\t\t\t\t\tresult += text.substring(0, prefixLength)\n\t\t\t\t}\n\n\t\t\t\tresult += '...'\n\n\t\t\t\tif (suffixLength > 0) {\n\t\t\t\t\tresult += text.substring(text.length - suffixLength)\n\t\t\t\t}\n\n\t\t\t\treturn result\n\t\t\t}\n\n\t\t\t// Expose copyButtonValue to global scope for onclick handlers\n\t\t\twindow.copyButtonValue = copyButtonValue\n\n\t\t\t// Initialize on DOMContentLoaded\n\t\t\tif (document.readyState === 'loading') {\n\t\t\t\tdocument.addEventListener('DOMContentLoaded', initButtonCopy)\n\t\t\t} else {\n\t\t\t\tinitButtonCopy()\n\t\t\t}\n\t\t})()\n\t</script>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
